---
title: "claude-code-infrastructure-showcase：Claude Code 基础设施参考库项目"
对象: "GitHub 项目"
项目主页: "https://github.com/diet103/claude-code-infrastructure-showcase"
Stars快照: "3685"
主要语言: "Shell"
开源协议: "MIT"
---

## 摘要

**1) 一句话总结**
本项目是一个基于 6 个月复杂微服务项目实战经验的 Claude Code 基础设施参考库，核心解决了技能无法自动激活的痛点，并提供了模块化技能、专用代理和上下文持久化等企业级开发模式。

**2) 核心要点**
* **项目定位**：提供经过生产环境（6 个微服务、5万+行 TypeScript 代码）测试的参考模式与组件，采用 MIT 协议，开发者需按需复制到自有项目中。
* **技能自动激活系统**：通过 `UserPromptSubmit` 钩子与 `skill-rules.json` 配置文件，根据用户提示词和文件上下文自动建议并激活相关技能，化被动为主动。
* **模块化技能（500行法则）**：采用渐进式披露策略，主技能文件和具体资源文件均控制在 500 行以内以节省 AI 上下文，内置 5 个生产级技能模板。
* **专用代理（Agents）**：提供 10 个开箱即用的独立代理，用于处理代码架构审查、重构规划、文档生成和前端错误修复等复杂任务。
* **上下文持久化**：建立“计划-上下文-任务清单”的三文件结构，配合 `/dev-docs` 斜杠命令，确保在发生上下文重置（Context Resets）后仍能保留项目知识与进度。
* **自动化钩子（Hooks）**：共包含 6 个钩子，其中 2 个为实现自动激活的必备钩子，其余为可选的构建检查和错误处理钩子。
* **低成本快速集成**：核心自动激活功能通常只需 15-30 分钟即可引入现有项目，并提供专供 AI 读取的 `CLAUDE_INTEGRATION_GUIDE.md` 以辅助集成。

**3) 风险与不足**
* **非开箱即用**：本项目仅为参考库，不能直接运行，必须将所需部分手动提取并复制到自己的项目中。
* **配置需高度自定义**：提供的 `settings.json` 仅为示例；部分 Stop 类型的钩子（如 `tsc-check.sh`）强依赖特定的 Monorepo 目录结构，MCP 服务器列表也必须根据实际环境修改。
* **业务领域需替换**：内置技能中使用的博客领域（Post/Comment/User）仅为教学示例，实际使用时必须根据自身真实业务逻辑（如电商、SaaS）进行调整。

## 功能与定位

本项目是一个经过生产环境测试的 Claude Code 基础设施参考库（并非可直接运行的应用程序）。它源自作者 6 个月在复杂 TypeScript 微服务项目中的高强度实际使用经验，旨在解决 Claude Code 中“技能无法自动激活”的核心痛点，并为企业级开发提供可扩展的模式与系统。开发者可以根据需要，将库中的模式和组件复制到自己的项目中。

## 典型使用场景

* **技能自动化**：希望 Claude Code 能够根据当前上下文和提示词自动触发相关技能，而无需开发者手动记忆和调用。
* **突破上下文限制**：在大型项目中，需要避免大段技能提示词耗尽 AI 的上下文窗口。
* **上下文持久化**：希望在 Claude Code 发生上下文重置（Context Resets）后，依然能保留项目的核心知识和开发进度。
* **复杂任务处理**：需要针对代码架构审查、重构、错误调试等复杂任务使用专用的 AI 代理（Agents）。

## 核心功能

* **技能自动激活系统**：通过 `UserPromptSubmit` 钩子（Hook）分析用户的提示词和文件上下文，并结合 `skill-rules.json` 配置文件，自动建议并激活相关技能。
* **模块化技能模式（500行法则）**：采用渐进式披露（Progressive disclosure）策略。主技能文件（SKILL.md）和具体的资源文件均控制在 500 行以内，Claude 会先加载主文件，仅在需要时才加载具体资源，从而节省上下文。内置 5 个生产级技能模板（涵盖前后端开发规范、路由测试等）。
* **专用代理（Agents）**：提供 10 个开箱即用的独立代理，用于执行特定任务，如代码架构审查、重构规划、文档生成、前端错误修复等。
* **开发文档系统**：通过“计划-上下文-任务清单”的三文件结构，配合 `/dev-docs` 斜杠命令，确保项目上下文在重置后得以保留。
* **自动化钩子（Hooks）**：包含 6 个钩子，其中 2 个为实现技能自动激活的必备钩子，其余为可选的构建检查和错误处理钩子。

## 特色与差异点

* **实战检验**：所有模式均提取自真实的生产环境（包含 6 个微服务、5万+行 TypeScript 代码、复杂的 React 前端等），解决了实际开发中的真实问题。
* **化被动为主动**：彻底改变了 Claude Code 技能“被动等待调用”的现状，实现了“需要时自动激活”。
* **低成本快速集成**：核心的自动激活功能集成成本极低，通常只需 15-30 分钟即可引入现有项目。

## 使用方式概览

项目推荐采用分阶段的集成工作流：
1. **技能激活（核心）**：复制 `skill-activation-prompt` 和 `post-tool-use-tracker` 两个必备钩子，更新项目的 `settings.json` 并安装依赖。
2. **添加技能**：从技能目录中挑选所需的技能复制到项目中，并在 `skill-rules.json` 中配置相应的路径模式。
3. **测试与扩展**：通过编辑文件或提问来验证技能是否自动触发。随后可根据需要添加更多技能、代理或斜杠命令。
*注：仓库内提供了专供 Claude 读取的 `CLAUDE_INTEGRATION_GUIDE.md`，可通过 AI 辅助完成集成步骤。*

## 限制与注意事项

* **非开箱即用**：这是一个参考库，必须将所需部分提取并复制到自己的项目中，不能直接运行。
* **配置需自定义**：仓库中提供的 `settings.json` 仅为示例。部分 Stop 类型的钩子（如 `tsc-check.sh`）依赖特定的 Monorepo 目录结构，MCP 服务器列表也需要根据实际环境进行修改。
* **业务领域示例**：内置技能中使用的博客领域（Post/Comment/User）仅为教学示例，实际使用时需根据自身业务逻辑（如电商、SaaS）调整模式。

## 链接

- 仓库：https://github.com/diet103/claude-code-infrastructure-showcase

## 关联主题

- [[00-元语/AI]]
- [[00-元语/Agent]]
- [[00-元语/github]]
- [[00-元语/mcp]]
- [[00-元语/sdk]]
