---
title: "linuxpdf：在 PDF 文件中运行的 Linux 系统项目"
对象: "GitHub 项目"
项目主页: "https://github.com/ading2210/linuxpdf"
Stars快照: "4579"
---

## 摘要

### 一句话总结
LinuxPDF 是一个极客开源项目，它利用 PDF 格式的 JavaScript 支持机制和内嵌的 RISC-V 模拟器，实现了在 PDF 文件内部运行 Linux 操作系统。

### 核心要点
* **底层技术**：基于修改版的 TinyEMU 模拟器，通过旧版 Emscripten 将其编译为 `asm.js`（而非 WebAssembly），以适配 PDF 的 JavaScript 运行环境。
* **系统支持**：默认搭载 32 位 buildroot 根文件系统，同时支持构建 64 位的 Alpine Linux 系统。
* **虚拟显示**：采用纯文本渲染方案，为屏幕每行像素分配独立的文本字段，通过 ASCII 字符来呈现画面。
* **虚拟输入**：通过 PDF 内置的多个按钮组成虚拟键盘，并提供一个文本框用于向虚拟机发送击键指令。
* **运行载体**：依赖现代浏览器（如 Chromium、Firefox）PDF 引擎内置的 JavaScript 标准库运行。
* **使用方式**：提供直接访问的在线体验版；本地构建需在 Linux 环境下通过 Python 虚拟环境运行自动化脚本完成编译与托管。
* **开源协议**：项目遵循 GNU GPL v3 协议。

### 风险与不足
* **性能极低且无法修复**：Linux 内核启动需要 30-60 秒（比正常慢 100 倍以上），根本原因是 Chrome 的 PDF 引擎（V8）出于安全考虑禁用了 JIT 编译器。
* **64 位版本性能劣化**：64 位模拟器的运行速度比 32 位版本慢约一倍，默认不推荐使用。
* **I/O 操作受限**：现代浏览器出于安全考量，仅实现了极小部分的 PDF JS API 子集，导致该虚拟机只能进行非常有限的输入输出操作。

## 功能与定位
LinuxPDF 是一个极客开源项目，它通过内嵌的 RISC-V 模拟器，实现了在 PDF 文件内部运行 Linux 操作系统。该项目基于 TinyEMU 模拟器开发，利用了 PDF 格式对 JavaScript 的支持机制来执行复杂的计算任务。

## 典型使用场景
* 技术验证与探索：展示现代浏览器 PDF 引擎的 JavaScript 执行能力及极限。
* 极客娱乐与展示：作为非常规环境下的系统运行演示（与作者之前的 DoomPDF 项目类似）。

## 核心功能
* **内嵌 RISC-V 模拟器**：将修改版的 TinyEMU 模拟器通过旧版 Emscripten 编译为 `asm.js`（而非 WebAssembly），从而使其能够在 PDF 的 JavaScript 环境中运行。
* **支持多种根文件系统**：默认提供 32 位 buildroot 系统（提取自 TinyEMU 官方示例），同时也支持构建 64 位的 Alpine Linux 系统。
* **虚拟输入输出系统**：
  * **显示**：为屏幕的每一行像素分配独立的文本字段，通过设置不同的 ASCII 字符来渲染画面。
  * **输入**：提供由多个按钮组成的虚拟键盘，以及一个用于向虚拟机发送击键指令的文本框。

## 特色与差异点
* **突破常规的运行载体**：利用了现代浏览器（如 Chromium、Firefox）PDF 引擎内置的 JavaScript 标准库，在通常被认为是静态文档的 PDF 中执行动态的操作系统。
* **纯文本渲染画面**：复用了 DoomPDF 的显示方案，巧妙地将图形画面转化为 ASCII 字符在 PDF 文本字段中进行渲染。

## 使用方式概览
* **在线体验**：用户可直接通过浏览器访问预置的 `linux.pdf` 文件进行体验。
* **本地构建**：需要在 Linux 操作系统下进行。通过克隆仓库、配置 Python 虚拟环境并运行构建脚本，脚本会自动下载所需版本的 Emscripten 并编译生成文件，随后可通过本地 Web 服务器进行托管访问。

## 限制与注意事项
* **性能极低**：Linux 内核在 PDF 中启动需要 30-60 秒，比正常情况慢 100 倍以上。根本原因是 Chrome 的 PDF 引擎（V8）出于安全考虑禁用了 JIT 编译器，导致性能大幅受损，且该问题无法修复。
* **64 位版本性能更差**：64 位模拟器的运行速度比 32 位版本慢约一倍，因此默认不推荐使用。
* **API 与 IO 限制**：虽然完整的 PDF JS 规范支持 3D 渲染、HTTP 请求等高级功能（仅 Adobe Acrobat 完整实现），但现代浏览器出于安全考量只实现了极小部分的 API 子集，因此该虚拟机只能进行非常有限的输入输出操作。

## 链接

- 仓库：https://github.com/ading2210/linuxpdf

## 关联主题

- [[00-元语/tool]]
- [[00-元语/github]]
- [[00-元语/cli]]
- [[00-元语/desktop-client]]
- [[00-元语/workflow]]
