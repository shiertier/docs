---
title: "我们花了3天，做了一个文章一键同步的插件，然后，免费送。"
发布日期: 2024-11-20
作者: "数字生命卡兹克"
来源: "微信公众号"
原文链接: "https://mp.weixin.qq.com/s?__biz=MzIyMzA5NjEyMA==&mid=2647666736&idx=1&sn=01879c246f728d3c352d98241e6afaed&chksm=f1a7675959b43767b619a7ca51fd72f72e83a4a4071b043d492683ffce80d302465d4ec905e6"
---

## 摘要

**1) 一句话总结**
作者团队基于已停更的开源项目“Wechatsync”，耗时3天修复并重构了一款Chrome插件，实现将微信公众号文章一键同步至知乎、微博、B站、百家号等多平台草稿箱，并免费对外提供。

**2) 核心要点**
*   **研发背景**：手动将公众号文章同步至其他平台需耗费约半小时，且原有的多平台同步插件“Wechatsync”已停更3年，大部分平台接口已失效。
*   **底层逻辑**：基于原作者（lljxx1）的开源代码进行魔改，通过读取浏览器已登录平台的Cookies获取登录状态，确保账号信息安全。
*   **修复排版问题**：解决了微博和B站编辑器无法识别微信`section`标签导致的格式错乱问题，通过在代码中追加`<br>`换行符实现正常排版。
*   **修复API失效**：针对百家号API及验证方法的变动进行了代码重写，解决了原插件上传图片和保存草稿失败的问题。
*   **优化交互界面**：重构了前端UI，新增平台登录状态显示（高亮已登录平台），并在同步完成后提供直接跳转至各平台草稿箱的按钮。
*   **发布流程**：插件自动提取HTML代码和图片并在目标平台生成排版完好的草稿，最后仅需用户手动点击发布按钮即可完成分发。
*   **获取与安装**：目前通过公众号私信获取本地安装包，需在Chrome浏览器中开启“开发者模式”并加载已解压的扩展程序。

**3) 风险与不足**
*   **视频同步缺陷**：插件无法处理文章内嵌的视频，同步时会触发BUG，仅能将视频相关信息以文字形式同步，视频文件必须依赖人工手动上传。
*   **商店审核延迟**：Chrome应用商店版本目前仍在审核中，用户暂时无法通过官方渠道一键安装，只能使用本地包手动部署。

## 正文

我不知道大家，但是对我这样的写内容的人来说，一直有一个很头疼的痛点。

就是把我在公众号上发的文章，同步到其他的文字内容平台上。

比如知乎、微博、百家号、B站等等。

之前都是人工同步，实在是痛不欲生。

而且之前也去找过N多种同步的方法，比如新榜的小豆芽，还有一些同步插件啥的，但是都不太能解决我的痛点。

比如我们曾经找的一款寄予厚望的Chrome插件，叫
“
Wechatsync
”
。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6uDt9Wefg0ibxvmoztn1jKziaOYDKgmHdsew6ZqMyTCcNOibqwe8qkMxO9w/640?wx_fmt=png&from=appmsg)

看着是不是很酷？

支持国内23+个平台同步发布，最高速度解放生产力，一键同步。

但是最大的问题，就是。

它已经停更3年了。

3年时间，起起伏伏，天地玄黄，宇宙鸿荒，这世间早就已经变了模样。这些支持的平台，自然也是几乎失效了个干净。

在试了很多后，我也一度放弃了。

直到最近，实在是不堪重负，每天早上9点多发完文章，要花将近半个小时时间，把我在公众号上发完的文章，复制粘贴到各个平台，还要注意排版、换行等等，实在是崩溃了。

所以，我决定，又把这个“自动化文章同步”的想法给拾起来，每天手动同步文字，简直就是浪费时间浪费生命。

而且我更是不知道，这花的半小时，到底有什么意义。

决心已下。

既然找不到，那我决定，就我们自己来魔改。

而要改的底子，就是
“
Wechatsync
”
，毕竟已经有前辈为我们铺好了路，完全从0开始自己造，也是没有必要。

我拉着我团队的开发小伙伴
@dongyi
，认真的把Wechatsync这个插件的逻辑看了一遍。

这个插件逻辑大概是这样的，用户安装完插件后，这个插件会通过已登录平台账号的
cookies来获取用户的登录信息（是安全的，不会让账号信息泄漏），就类似于你们已经在浏览器上登了微博，下次再登录这个网页就不会让你在输一遍账号密码，直接是登录状态，一个逻辑。

然后就会在屏幕上出现插件的按钮，你点击后，就会在这篇文章的网页上进行正文提取，再把这篇文章的HTML代码和图片上传到其他平台去。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6uFyBmcf9MGYjEwSDDekY7YX3ZelQibZpzttLL4IpyzDfsfHcuwhkOjgQ/640?wx_fmt=png&from=appmsg)

然后会在对应平台上，创建一个空白的草稿，把你的所有内容，填充进去，当你确认完成以后，就可以手动点击发布。

不过因为太久没维护，BUG也很多。

比如知乎还行，但是在微博和B站上，格式直接爆炸，完全没有换行。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6uaDYHNiaib8uMtsXic4192tzHO0lBgicPKzgGYpjEptaWw5qIEecjwfzsgw/640?wx_fmt=png&from=appmsg)

找了很久的解决办法，然后源代码跟天书一样堆在一起。

最后发现是在微信里每行都是在一个section里，但B站和微博的编辑器不认这个section。。。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6uAdqFsu9jjwuw0HzhPfqGeMTGgXrgLpr91UUOoRrmicBR4ldVnl9AsqA/640?wx_fmt=png&from=appmsg)

最后通过代码给每行的
section
后面加<br>这个喜闻乐见的换行符实现。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6uMdiaC1sPZHcA5gRXLuKZFRhyRtz4fEI4YSKN06uhO9ibv5VETm0lJHNA/640?wx_fmt=png&from=appmsg)

还有百家号，更是痛苦之源。

上传图片失败、保存草稿失败，直接痛苦面具戴上了。

最后找了很久，才发现是API有变动，然后百家号的验证方法也有变化，磕巴半天终于改完了。

又觉得原来的交互和按钮太丑，把前端小改了一下。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6uD2GPaMtgGzIPLIr8ZY24iaNNDrtPYeDRCAQuoDezJDveQHg6SY584eQ/640?wx_fmt=png&from=appmsg)

点击这个同步该文章后，就会弹出一个小框。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6unBRRYibAsL1WSQg5mFQ8ZtMFJRBeH5BibnEnvlGfWpDmic4to0RvKZ5pA/640?wx_fmt=png&from=appmsg)

可同步账号就是你已经登录的，后面会显示你登录的ID名字，百家号和知乎就是我还没在浏览器上登录的平台，所以同步不过去。

如果你把他们都登录完，就能看到全部亮起。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6uo4A7ibbTNJaElm8AsKxphWw7FJsibGcPuXZK52f5DXjKk6DatHxx7H0Q/640?wx_fmt=png&from=appmsg)

点击同步后，这个小插件就会开始嘟嘟嘟的同步了，同步完成的平台会给你一个查看草稿的按钮，可以直接跳转到对应的草稿箱。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6u3A1YNbhDCLTlBVdZ3UvS0l5geNQ0N9Ujpw4gWeEzpibeLkFPtac9Pzw/640?wx_fmt=png&from=appmsg)

我们可以跳过去看一下。

所有的样式，完美无暇。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6ugx8oL4AP8awqg67ibqDTe1I6CeSATLl66ia8t41410kNwullJKt5IdEg/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6usRmjCVwes4QER75zB2KBz9iczEKTLYQdgquUClJ3DnWoazMsXduOpIw/640?wx_fmt=png&from=appmsg)

最后的最后，只需要你，手动点4下发布按钮就行。

当然，还有一个我们无解的问题，就是当文章里面带有视频，这时候同步的时候会出BUG，只能把视频的一些信息用文字同步过去。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURosQJIApERkbMKks8VB3r6uiabCaYjVibakDjMiaAnF73HEurgwVceDudXM41SmCYEDIhsGKBdeK9qOw/640?wx_fmt=png&from=appmsg)

但是视频这事，是真的无解。只能手动处理一下，然后手动上传到各大平台了。

不过坦率的讲，我现在是能用gif就用gif，视频本身也不多，对于我自己倒是还好。

最后的最后，我终于，再也不用靠人力，去跟拉磨的驴一样，每天苦唧唧的手动同步了。

插件我直接放在后台了，
直接对着公众号私信【同步】就有了
，
下载完成以后解压，然后进入Chrome浏览器的扩展程序管理界面，打开右上角的开发者模式，左上角加载解压完的文件夹就行。

![](https://mmbiz.qpic.cn/mmbiz_png/OjgKEXmLURpWgSMGibXEPErjW1CvfYYu4bu7JOH2o3aZ9n1mste7sRbtXvWzQEV4N4bm30vegibQGJiaLnmw9ksLQ/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

Chrome商店版本还在审核中，所以没法直接从商店下载，只能用本地包来安装了
。

最后，感谢原插件
wechatsync的作者
lljxx1，感谢他在几年前留下的这个底子。

感谢dongyi的开发，熬了几天夜，把代码看了N遍，终于改成了完全体。

我有一个觉得很有用的工作信条，这是李继刚告诉我的。

就是，当一件事，如果需要毫无意义的重复3次以上。

那就必须把这个流程，想尽一切办法自动化。

无论是AI、是RPA、是开发插件等等，都可以。

我们自己的精力是有限的，一定要把时间和精力，放在更有价值的事情上。

向来枉费推移力，此日中流自在行。

共勉。

## 关联主题

- [[00-元语/数字生命卡兹克]]
- [[00-元语/AI]]
- [[00-元语/llm]]
