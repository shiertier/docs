# 提示词缓存：Claude Code 降低延迟与成本的关键

## 文档信息
- 来源：https://simonwillison.net/2026/Feb/20/thariq-shihipar/#atom-everything
- 发布日期：2026-02-20

## 摘要
**1) 一句话总结**
提示词缓存技术是 Claude Code 等代理型产品的核心基石，通过复用计算结果显著降低了系统延迟与成本，并决定了其整体架构与运营策略。

**2) 关键要点**
* 提示词缓存（prompt caching）是实现 Claude Code 等长期运行的代理型产品的关键技术。
* 该技术允许系统复用之前交互轮次中的计算结果。
* 提示词缓存能够显著降低系统的运行延迟和成本。
* Claude Code 的整体运行框架完全围绕提示词缓存进行构建。
* 较高的缓存命中率不仅能降低运营成本，还能为订阅计划提供更宽裕的速率限制（rate limits）。
* 团队对提示词缓存的命中率设置了严格的监控警报。

**3) 风险与不足**
* 提示词缓存命中率过低会触发严格的监控警报，并被定性为严重事件（SEVs）进行处理。

## 正文
这是 Simon Willison 在 2026 年 2 月 20 日收集并发布的一段来自 Thariq Shihipar 的引言，深入探讨了提示词缓存（Prompt Caching）在 AI 代理产品中的核心地位。

### 提示词缓存的核心作用

像 Claude Code 这样长期运行的代理型（agentic）产品之所以能够实现，很大程度上得益于**提示词缓存**技术。这项技术允许系统复用之前交互轮次中的计算结果，从而显著降低了响应延迟和运行成本。

### Claude Code 的工程实践

在 Claude Code 的开发与运营中，整个系统架构都是围绕提示词缓存来构建的。保持较高的提示词缓存命中率带来了两项关键优势：

- **降低运营成本**
- **提升用户体验**：得益于成本的降低，团队能够为订阅计划的用户提供更宽裕的速率限制（rate limits）。

为了确保系统的高效运行，团队对提示词缓存的命中率设置了严格的监控告警。如果命中率过低，团队会直接将其宣告为严重级别的系统事件（SEVs）并进行处理。

### 博客近期更新

除了上述引言，Simon Willison 的博客近期还发布了以下内容：

- 为博客添加 TILs（今天我学到了）、发布记录、博物馆、工具和研究内容（2026年2月20日）
- 两款新的 Showboat 工具：Chartroom 与 datasette-showboat（2026年2月17日）
- 深蓝（Deep Blue）（2026年2月15日）

## 相关文档
- [[01-博客/Thariq/构建 Claude Code 的经验教训：提示词缓存决定一切|构建 Claude Code 的经验教训：提示词缓存决定一切]]；关联理由：引用；说明：本文核心观点来自 Thariq 的引言，该文提供了同一命题的完整工程展开。
- [[01-博客/Anthropic/Claude Misc Cookbook 上下文与缓存优化|Claude Misc Cookbook 上下文与缓存优化]]；关联理由：解说；说明：该文系统解释了提示词缓存在成本与延迟优化中的工程做法，可作为本文结论的实践补充。

## 关联主题
- [[00-元语/Claude]]
- [[00-元语/prompt]]
- [[00-元语/context-optimization]]
- [[00-元语/observability]]
- [[00-元语/rate-limiting]]
- [[00-元语/Agent]]
