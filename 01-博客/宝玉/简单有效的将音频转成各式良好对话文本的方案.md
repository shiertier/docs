# 简单有效的将音频转成各式良好对话文本的方案

## 文档信息
- 来源：https://baoyu.io/blog/audio-to-text-transcription-solution
- 发布日期：2025-01-13
- 作者：宝玉

## 摘要

**一句话总结**
本文介绍了一种无需本地部署模型，利用 Gemini 1.5 Pro 提取音频文本并按发言人分类，再通过 Claude 纠错和润色的高效音频转文本方案。

**关键要点**
*   **核心优势**：无需在本地运行 Whisper 等模型，可直接输出去除口癖、修正错别字且阅读友好的 Markdown 格式对话文本。
*   **前提条件**：需要能够访问 Google AI Studio，并推荐使用 Claude AI 进行文本润色。
*   **第一步（语音转文本）**：在 Google AI Studio 中上传音频，使用 Gemini 1.5 Pro 生成文本，并在提示词中指定主要参与人，要求按发言人（Speaker）整理内容。
*   **第二步（文本润色）**：将 Gemini 生成的文稿发给 Claude，要求其纠正错别字、去除口癖、保持原有格式并适当分段。
*   **防删减指令**：在 Claude 的提示词中必须明确包含“**不要删减内容**”关键字。
*   **自定义替换**：可在提示词中加入额外的特定词汇替换要求（例如将“OnePro”统一替换为“o1 Pro”）。

**风险与不足**
*   **模型效果差异**：在第二步文本润色中，如果使用 Claude 以外的模型（如 Gemini, GPT-4o, o1），处理效果可能会差一点。
*   **内容丢失风险**：若在 Claude 的提示词中未强调“不要删减内容”，模型可能会偷懒并删减原文（仅生成摘要）。
*   **长文本处理限制**：对于超过 1 小时的音频内容，Claude 可能无法一次性处理，需要切分成多块；且 Gemini 和 Claude 在输出长内容时均可能中断，需要人工持续输入“continue”直到生成完毕。

## 关联主题

- [[00-元语/gemini]]
- [[00-元语/Claude]]
- [[00-元语/asr]]
- [[00-元语/audio]]
- [[00-元语/prompt]]
- [[00-元语/markdown]]
- [[00-元语/workflow]]

## 正文
昨天我花了点时间整理了一下 Twitter Space 音频的文稿：《AI编程革命：代码的未来，由AI重塑！》[https://baoyu.io/blog/ai-programming-revolution](https://baoyu.io/blog/ai-programming-revolution)

整个过程很简单有效，不仅把发言人和内容对应上了，还去掉了口癖、纠正了错别字，输出成了阅读友好的Markdown格式。也不要本机运行 Whisper 这样的模型。

前提条件：

*   你能访问 Google 的 AI Studio [https://aistudio.google.com/](https://aistudio.google.com/)

*   你能使用 Claude AI，其他 AI 模型（ 比如Gemini, GPT-4o, o1 ）也可以，但是效果可能要差一点

第一步：在 Google AI Studio 中用 Gemini 1.5 Pro 将音频转成文本，并且要求按照发言人生成会话。
---------------------------------------------------------------

把音频文件上传，并输入提示词，让它生成文本，并对应发言人，提示词参考：

> 请将下面对 AI 编程的讨论音频转成Transcript，要按照Speaker将音频内容完整整理出来，主要参与人：XXX, YYY, ZZZ, …

![Image 1](https://baoyu.io/uploads/2025-01-13/1736744328311.png)

如果一次输出不完，就一直输入 continue 让它继续，直到生成完成为止。

![Image 2](https://baoyu.io/uploads/2025-01-13/1736744348777.png)

第二步：将 Gemini 生成的文稿，发给 Claude，让其纠正错别字，去掉口癖，重新分段。
-----------------------------------------------

如果内容没有超过 1 小时，一般 Claude 可以一次性处理，如果比较长可能要分成几块来处理。

提示词比较简单，但是一定要加上“**不要删减内容**”关键字，否则 Claude 可能偷懒给你删减摘要内容：

> 请把下面的语音转文本对话文稿重新整理，纠正其中错别字，去掉口癖，保持原有对话格式，适当分段，但是不要删减内容：
>
> <Gemini 输出的文稿>

![Image 3](https://baoyu.io/uploads/2025-01-13/1736744564809.png)

很长的内容 Claude 无法一次性输出完整，需要不停的输入“continue”继续生成，直到生成完整。

如果有些额外要求也可以加到提示词中，比如把文稿中的 OnePro 统一换成 o1 Pro 等等。

可以看到整理后的结果还是挺不错的：

![Image 4](https://baoyu.io/uploads/2025-01-13/1736744725485.png)
