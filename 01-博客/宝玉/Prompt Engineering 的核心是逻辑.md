# Prompt Engineering 的核心是逻辑

## 文档信息
- 来源：https://baoyu.io/blog/prompt-engineering/the-core-of-prompt-engineering
- 发布日期：2024-03-20
- 作者：宝玉

## 摘要

**1) 一句话总结**
提示词工程（Prompt Engineering）的核心在于逻辑，即将复杂任务拆分为合理的多个步骤并强制输出中间结果，以逐步推导得出最佳的最终结果。

**2) 关键要点**
* **核心理念**：提示词工程的核心不是套用模板或格式，而是内在逻辑。
* **任务拆分**：逻辑的体现是将复杂任务拆分为科学合理的步骤，不依赖大模型一步得出最终结果。
* **步骤依赖**：在多步任务中，前一步骤的输出结果必须作为后一步骤的执行基础。
* **翻译案例**：单步翻译效果存在天花板（类似 DeepL），若拆分为“直译、反思、意译”三步，效果可接近人工水平。
* **总结案例**：单步总结容易遗漏要点，若拆分为“提炼主题、检查遗漏、基于主题列要点、生成总结”四步，可显著提升质量。
* **通用技巧**：在提示词中加入“让我们一步步思考”，让模型自行分步并列出中间结果，也能有效改善输出。
* **优化思路**：当提示词效果不理想时，应优先思考如何将当前任务合理拆分为多个步骤。

**3) 风险与不足**
* **中间结果未输出风险**：如果仅在提示词中指明了步骤，但未要求大模型打印（输出）中间步骤的结果，分步策略将完全无效（因为大模型必须依赖前置的输出文本来预测后续结果）。
* **单步执行风险**：直接让大模型单步执行复杂任务（如直接总结），容易导致其“偷懒”并遗漏大量关键要点。

## 正文
如果你看过我以前写的[多步翻译 Prompt](https://baoyu.io/blog/prompt-engineering/translator-gpt-prompt-v2)，或者这个[总结的 Prompt](https://baoyu.io/blog/prompt-engineering/how-to-get-a-better-summary-result)，你就会发现：

> “所谓提示词工程，核心不是你套个什么模板用什么格式，而是逻辑！！”

**逻辑就是你怎么将一个复杂的任务拆成科学合理的步骤，并且让前面每一步的结果都成为后面步骤的基础，所有步骤合并在一起得到最终的结果，而不要指望一步得到结果。**只有这样你才能得到最佳的效果。

就像翻译，无论你的 Prompt 格式写的多完美，如果只有一步，那么效果上接近 DeepL 那样就是天花板了，但如何你拆分成直译、反思、意译，那么效果就接近人写的效果了！

就像总结，如果你只是让它总结，那么它可能就会偷懒遗漏很多要点，但如果你让它先提炼主题、再检查有没有遗漏的主题、然后基于每个主题列要点，最后再基于上面的去生成总结，就会好很多，也不会“偷懒”。

哪怕只是写一句“让我们一步步思考”，让它自己去分步骤，列出每一步的结果，都会好很多！

下次写 Prompt，效果不理想时，不妨想想看：我是不是可以把这个任务拆分成几个步骤？怎么拆分最合理？

顺便说一下：**即使你在 Prompt 里面指明了步骤，但是如果没有将步骤打印出来，那么也是没有效果的。**因为 LLM 需要基于前面的输出结果去预测后面的结果，如果没有前面步骤的输出，就无法影响后面的预测结果。

## 关联主题
- [[00-元语/prompt]]
- [[00-元语/llm]]
- [[00-元语/workflow]]
