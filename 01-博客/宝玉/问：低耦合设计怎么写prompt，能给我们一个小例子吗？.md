# 问：低耦合设计怎么写prompt，能给我们一个小例子吗？

## 文档信息
- 来源：https://baoyu.io/blog/low-coupling-design-prompt-example
- 发布日期：2024-12-29
- 作者：宝玉

## 摘要

**一句话总结**
作者以字幕编辑器App为例，展示了在低耦合架构下编写Prompt的技巧：仅向AI提供目标模块的代码并声明外部依赖状态，无需发送其他独立模块的源代码。

**关键点**
*   **核心原则**：在低耦合设计中，向AI提供上下文时应保持模块独立性，避免发送无关模块的代码。
*   **案例背景**：开发一款字幕编辑器App，其中“播放器”与“字幕编辑”被设计为两个独立的模块。
*   **具体任务**：为字幕编辑模块新增“根据当前播放位置高亮字幕并自动滚动”的功能。
*   **代码提取**：仅选择与字幕编辑模块及该新增功能直接相关的代码发送给AI。
*   **工具使用**：示例中使用了一款名为 RepoPrompt 的 App 来辅助勾选和提取相关代码。
*   **外部依赖处理**：虽然新功能需要获取播放器的当前时间，但无需发送播放器模块的代码，只需在Prompt中告知AI该播放器状态存在且可直接调用即可。

## 关联主题

- [[00-元语/prompt]]
- [[00-元语/context-optimization]]
- [[00-元语/design]]
- [[00-元语/软件工程]]
- [[00-元语/AI]]
- [[00-元语/workflow]]
- [[00-元语/tool]]
- [[00-元语/Spec驱动开发]]

## 正文
答：

举个例子，我在写一个字幕编辑器的App，设计的时候，播放器是一个独立的模块，字幕编辑部分也是一个独立的模块，比如说我现在要给字幕编辑模块增加一个当前播放位置的字幕高亮并自动滚动的功能，我就只需要把字幕编辑器相关的代码发过去。

![Image 1](https://baoyu.io/uploads/2024-12-29/1735454493255.png)

所以我在写 Prompt 的时候，就只要把字幕编辑这个模块和这个功能相关的代码都选上（参考图1，用的是一个叫 RepoPrompt 的 App），然后和提示词一起发给过去。即使我这个功能需要用到播放器中当前播放的时间，但是我并不需要把播放器的代码发过去，只要让 AI 知道有这么个播放器的状态我可以直接调用即可。

![Image 2](https://baoyu.io/uploads/2024-12-29/1735454510550.png)![Image 3](https://baoyu.io/uploads/2024-12-29/1735454523744.png)![Image 4](https://baoyu.io/uploads/2024-12-29/1735454533910.png)![Image 5](https://baoyu.io/uploads/2024-12-29/1735454545041.png)
