# 实例演示我是如何和 AI 结对编程的

## 文档信息
- 来源：https://baoyu.io/blog/ai-pair-programming-demo
- 发布日期：2024-12-29
- 作者：宝玉

## 摘要

**1) 一句话总结**
作者以“开发经理”的视角，分享了与AI结对编程的实践流程：先提供精简需求让AI生成并对比多个设计方案，确认方案后再补充细节让AI生成并迭代代码。

**2) 核心要点**
*   **需求精简**：初期只提供抽象精简的需求和大方向上下文，不涉及过多技术细节。
*   **多方案对比**：将同一需求在3个不同的会话中生成，通过对比不同结果来挑选最佳设计方案。
*   **提示词调优**：如果AI生成的方案都不理想，需不断调整提示词并重新生成，直到AI的思路与预期一致。
*   **经理视角**：把AI当作资深员工，让其自主提出技术方案，这有助于获得比预期更好的方案或验证自身思路。
*   **补充细节**：设计方案敲定后，需将细节补充完整再交由AI生成代码，以防遗漏。
*   **代码审查与重构**：生成代码后需Review其是否遵循了设计；若未遵循，需完善提示词让AI重新生成。
*   **Bug修复策略**：遇到Bug先在对话中尝试纠正，若1-3次仍未修复，则直接调整提示词从头生成，或更换更强大的AI模型。

**3) 风险与不足**
*   AI在生成代码时可能会遗漏细节（需在生成代码前人工补充完整细节来规避）。
*   AI生成的代码存在不遵循既定设计方案的风险。
*   生成的代码可能存在Bug，且可能出现连续1-3次对话纠正仍无法修复的情况。

## 关联主题

- [[00-元语/workflow]]
- [[00-元语/code-review]]
- [[00-元语/bug-fix]]
- [[00-元语/decision-making]]
- [[00-元语/AI]]
- [[00-元语/llm]]
- [[00-元语/prompt]]
- [[00-元语/design]]
- [[00-元语/软件工程]]

## 正文
比如我要做一个功能模块，我自己有个大概的思路，然后我将需求抽象精简，包含在一个上下文中，只是一个大方向，不涉及太多细节。（参考图1）

![Image 1](https://baoyu.io/uploads/2024-12-29/1735463565963.png)

一、让 AI 根据需求出设计方案 同样的需求我用 3 个不同的会话生成 3 次（参考图2、图3、图4），这样可以生成不同的结果对比，看看差异，如果觉得结果都有问题，那么就调整提示词，继续生成几次，直到和 AI 的思路比较一致了。

![Image 2](https://baoyu.io/uploads/2024-12-29/1735463577486.png)![Image 3](https://baoyu.io/uploads/2024-12-29/1735463587337.png)![Image 4](https://baoyu.io/uploads/2024-12-29/1735463595840.png)

这一步尽量不要设计太多技术细节，最好让 AI 出方案，除非你很有把握，因为有时候 AI 能提出更好的方案，就算它提不出更好的，和你想的差不多也是对你的一种肯定。

这就好比你是个经理，让下面三个资深员工就同一个需求分别出方案，然后选一个最好的，如果需求没描述清楚就完善需求。同理如果你一开始就把细节定了，那么给员工的发挥余地就小了，所以最好让员工自己提方案，说不定会有更好的方案。

二、设计方案确定后，填充细节生成代码

方案定下来后，就可以把方案的细节都补充上，避免 AI 在生成代码时遗漏，然后交给 AI 去生成（参考图5）。生成后简单 Review 下就知道是不是遵循了设计。

![Image 5](https://baoyu.io/uploads/2024-12-29/1735463608793.png)

如果没有遵循设计，就完善提示词，让 AI 重新生成，指导遵循了设计

如果有 Bug，先尝试在回复中纠正，如果1-3次纠正还不能修复，重新调整提示词或者提示词都不用调整，直接重头生成，或者去试试其他更好的模型。

这同样也相当于你扮演经理的角色，定好设计后让员工去写代码，如果他们没搞明白设计就重新说明，如果写的有 Bug 就告诉他们 Bug 在哪让他们修复，如果修复几次都修不好，就开除换人重写。

总结

总结下就是像一个开发经理一样，去跟 AI 员工描述需求，让手下几个 AI 员工去设计，AI 员工设计完挑选确认方案，方案确认后继续让 AI 员工帮你生成代码，代码不好就修改提示词重新生成。
